import{f as x,j as e,g as h,h as f,i as j,k,I as u,l as i,r as y,n as D}from"./index-MgPKllZv.js";import{E as M}from"./EditItem-CDQZBGfz.js";import{T as q}from"./TextareaMD-BGJMsZGS.js";const N=()=>{const o=x({defaultValues:{type:"dnd"}}),{watch:d,control:t,getValues:m,resetField:c}=o,n=d("type"),l=D?.[n];function p(){const{tags:s,...a}=m(),r=Array.isArray(s)?s:[s||"other"];return{...a,tags:r}}return e.jsxs(M,{contentName:"Правила",methods:o,getTransformedData:p,queryHook:k,createHook:j,updateHook:f,removeHook:h,mapData:s=>s?s?.map(({id:a,title:r,shortDescription:g})=>({id:a,title:r,description:g})):[],children:[e.jsxs("div",{className:"flex gap-2 flex-wrap items-end",children:[e.jsx(u,{className:"flex-2 min-w-[260px]",required:!0,placeholder:"Введите название правила",message:"Название правила",name:"title",control:t}),e.jsx(i,{className:"flex-1",required:!0,onChangeAction:()=>c("tags"),placeholder:"Выберите тип правила",message:"Тип правила (DnD, клубные или домашние)",control:t,name:"type",options:y}),e.jsx(i,{className:"flex-1",message:"Теги зависят от выбранного типа",required:!0,disabled:!l,multiple:n==="dnd",placeholder:"Выберите тег",label:"Теги",control:t,name:"tags",options:l})]}),e.jsx(u,{required:!0,message:"Краткое описание (1–2 предложения, используется в превью)",placeholder:"Введите короткое описание",name:"shortDescription",control:t}),e.jsx(q,{hasMd:!0,required:!0,control:t,message:"Полное описание правила в формате Markdown",placeholder:"Добавьте подробное описание (Markdown)",name:"mdContent"})]})};export{N as default};
